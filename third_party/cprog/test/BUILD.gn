config("cprog_test_config") {
  include_dirs = [
    "src",
  ]
}

static_library("cprog_test") {
  sources = exec_script("//build/find_all_files_under.py",
                        [
                          "--include-patterns",
                          "*",
                          "--dir",
                          rebase_path("src", root_build_dir),
                          "--relative-dir",
                          rebase_path(".", root_build_dir),
                        ],
                        "list lines")
  cflags_c = [ 
    "-Wall",
    "-Werror=implicit-function-declaration",
  ]

  all_dependent_configs = [
    ":cprog_test_config",
  ] 
}
